/*
NOTES

IF user have SKIP permission then it is like having all permissions
AddEditDelete POST operations are additionaly checked on server if they are not violating permissions
*/

Admin
{
	Index //gives links to various pages providing statistics, management etc.
	{
		IN: LOGIN
		WHAT:
		{
			Various links to other part of site
				AdminUsers.Index
				AdminDaemons.Index
				AdminPresharedKeys.Index
				etc.
		}
	}
}

AdminUsers
{
	Index //lists users - to get in: MANAGESELFUSER or MANAGEOTHERUSERS
	{
		IN: MANAGESELFUSER | MANAGEOTHERUSERS
		WHAT IS SHOWN:
		{
			IF ONLY MANAGESELFUSER
				REDIRECT TO USER EDIT PAGE WITH CURRENTLY LOGED IN USER ID
			IF ONLY MANAGEOTHERUSERS
				SHOWS ALL USERS BUT CURRENT USER
			IF BOTH
				SHOWS ALL USERS
		}
		
		HOW IS IT SHOWN:
		{
			Add User Button: IF HAVE MANAGEOTHERUSERS
			List
				Some User Data(multiple columns)
				Edit button
				Delete button
				Show daemons button: IF HAVE MANAGEOTHERDAEMONS for other users or IF HAVE MANAGESELFDAEMONS for current user
					Redirects to AdminDaemons.Index but will show Daemons belonging to certain user
				Show groups
		}
	}

	AddEdit //works as your own profile page or editable profile page for others
	{
		IN: MANAGESELFUSER for current user but works only as Edit, MANAGEOTHERUSERS for other users works both as Add and Edit

		WHAT:
		{
			Data //either blanks or preloaded data from database in case of editing
			Confirm Button
			Cancel Button
		}
	}

	Delete //same as AdminUsers.AddEdit, but with not-editable data
	{
		IN: MANAGEOTHERUSERS for other users, current user can't delete himself currently

		WHAT:
		{
			Data //preloaded data
			Confirm Button
			Cancel Button
		}
	}
}

AdminPresharedKeys
{
	Index //lists all preshared keys
	{
		IN: MANAGEPRESHARED
		WHAT:
		{
			List
				Preshared Data Columns
				Delete Button
		}
	}

	Add
	{
		IN: MANAGEPRESHARED
		WHAT:
		{
			Data
			Confirm Button
			Cancel Button
		}
	}

	Delete
	{
		IN: MANAGEPRESHARED
		WHAT:
		{
			Data
			Confirm Button
			Cancel Button
		}
	}

	LogedInUsers
	{
		IN: MANAGEOTHERUSERS
		WHAT:
		{
			List //lists all LogedInUsers
				User Data
				Go to User
					Redirects to AdminUsers.AddEdit //this button wont be shows for current users LogedInUser unless he have MANAGESELFUSER
		}
	}
}

AdminLogs
{
	Index
	{
		WHAT:
		{
			Button to user logs
			Button to daemon logs
			Buttom to tasks location logs
		}
	}

	UserLogs
	{
		WHAT:
		{
			List
				Data
				Go to user //same permissions as in LogedInUsers - Go to user
		}
	}

	DaemonLogs
	{
		WHAT:
		{
			List
				Data
				Go to daemon //same permissions as in LogedInDaemons - Go to daemon
		}
	}

	TaskLocationLogs
	{
		WHAT:
		{
			List
				Data
				Go to daemon //same as in LogedInDaemons - GO to daemon
		}
	}
}

AdminDaemons
{
	Index
	{
		IN: MANAGESELFDAEMONS | MANAGEOTHERDAEMONS
		WHAT IS SHOWN:
		{
			IF ONLY MANAGESELFDAEMONS
				SHOWS ONLY CURRENT USERS DAEMONS
			IF ONLY MANAGEOTHERDAEMONS
				SHOWS ALL DAEMONS BUT NOT CURRENT USERS
			IF BOTH
				SHOWS ALL DAEMONS
		}
		
		HOW IS IT SHOWN:
		{
			Add Daemon Button: IF HAVE MANAGESELFDAEMONS
			List
				Some Daemon Data(multiple columns)
				Edit button
				Delete button
				Show user (if its your daemon then you need MANAGESELFUSER for this to work for other daemons you need MANAGEOTHERUSERS)
				Show tasks
				Show groups
		}
	}

	AddEdit
	{
		IN: MANAGESELFDAEMONS if its your daemon, MANAGEOTHERDAEMONS if its someone elses daemon

		WHAT:
		{
			Data //either blanks or preloaded data from database in case of editing
			Confirm Button
			Cancel Button
		}
	}

	Delete //same as AdminDaemons.AddEdit, but with not-editable data
	{
		IN: MANAGEOTHERDAEMONS for other user daemons

		WHAT:
		{
			Data //preloaded data
			Confirm Button
			Cancel Button
		}
	}

	LogedInDaemons
	{
		IN: MANAGEOTHERDAEMONS | MANAGESELFDAEMONS
		WHAT:
		{
			List //only lists current users, others or all loged in daemons based on permission
				Daemon Data
				Go to daemon
					Redirects to AdminDaemons.AddEdit 
		}
	}
}

//Adding and removing user, daemon from/to group is based upon MANAGEOTHERDAEMONS, MANAGESELFDAEMONS, MANAGESELFUSER, MANAGEOTHERUSERS
//and is performed in AdminUsers.AddEdit and AdminDaemons.AddEdit respectively
AdminGroups
{
	Index:
	{
		IN: MANAGEGROUPS
		WHAT:
		{
			List
				Group Data
				Show Users
				Show Daemons
		}
	}

	AddEdit:
	{
		IN: MANAGEGROUPS
		WHAT:
		{
			Group Data
			Confirm Button
			Cancel Button
		}
	}

	Delete:
	{
		IN: MANAGEGROUPS
		WHAT:
		{
			Group Data
			Confirm Button
			Cancel Button
		}
	}
}

AdminPermissions
{
	Index
	{
		IN: MANAGEPERMISSION
		WHAT:
		{
			List //all predefined permissions
				Show groups //need MANAGEGROUPS
				Show daemons //need MANAGESELFDAEMONS | MANAGEOTHERDAEMONS
				Show users //need MANAGESELFUSER | MANAGEOTHERUSERS
		}
	}
}

AdminTasks
{
	Index:
	{
		IN: MANAGEOTHERDAEMONS | MANAGESELFDAEMONS
		WHAT:
		{
			Add Button
			List //lists all
				Data
				Edit Button
					//Can be used everytime
					//if MANAGEOTHERDAEMONS & MANAGESELFDAEMONS
					//else if MANAGEOTHERDAEMONS and this tasks doesnt concern your daemons
					//else if MANAGESELFDAEMONS and this task doesnt concern others daemons
					//those checks are heavy so button is always here, but wont let you in if you are not qualified
				Delete button
					//Can be used everytime
					//if MANAGEOTHERDAEMONS & MANAGESELFDAEMONS
					//else if MANAGEOTHERDAEMONS and this tasks doesnt concern your daemons
					//else if MANAGESELFDAEMONS and this task doesnt concern others daemons
					//those checks are heavy so button is always here, but wont let you in if you are not qualified
		}
	}

	AddEdit
	{
		IN: explained in AdminTasks.Index
		WHAT:
		{
			Group Data
			Confirm Button
			Cancel Button
		}
	}
	Delete
	{
		IN: explained in AdminTasks.Index
		WHAT:
		{
			Group Data
			Confirm Button
			Cancel Button
		}
	}
}